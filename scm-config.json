// scm-config
//
// this is a JSON file that allows JavaScript-style comments
{
    // setuid and setgid are only required if running with sudo
    // you can delete these lines and run without sudo if your http/https ports don't require special privledges
    "setuid": 501,
    "setgid": 20,
    "components": [{
        "name": "http",
        "type": "generic",
        "package": "component-web@1.0.0-alpha2",
        "pre-config": [{
            // setting the port isn't technically required here, but is included for convenience
            "set-port": 80
        }],
        "post-config": [{
            "set-redirect": {
                "destProtocol": "https",
                "destTemporary": false
            }
        }]
    }, {
        "name": "https",
        "type": "generic",
        "package": "component-web@1.0.0-alpha2",
        "pre-config": [{
            // setting the port isn't technically required here, but is included for convenience
            "set-port": 443,
            "set-https": true,
            "set-domain": "localhost",
            "set-body-parser": "json",
            "set-enable-session": true,
            "add-static": {
                "path": "/",
                "dir": "webauthn-yubiclone"
            }
        }]
    }, {
        "name": "cert-manager",
        "type": "generic",
        "package": "component-certs-static@1.0.0-alpha1",
        "pre-config": [{
            "set-cert-file": "data/node_modules/component-certs-static/test/helpers/certs/cert.pem",
            "set-key-file": "data/node_modules/component-certs-static/test/helpers/certs/key.pem"
        }]
    }, {
        "name": "fido2",
        "type": "generic",
        "package": "component-fido2@1.0.0-alpha2"
    }, {
        "name": "uds",
        "type": "generic",
        "package": "component-uds-json@1.0.0-alpha1"
    }, {
        "name": "logger",
        "type": "logger",
        "package": "component-logger-winston@1.0.0-alpha2",
        "pre-config": [{
            "set-level": "silly",
            "add-transport": [{
                // log to the screen...
                "type": "console",
                "colorize": true
            }, {
                // ...and log to a file
                // see winston's npm page for more transport configuration options
                "type": "file",
                "filename": "scm.log"
            }]
        }]
    }]
}